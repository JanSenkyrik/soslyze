TUNING:

- tuning profile:

# cat ./etc/foreman-installer/scenarios.d/satellite.yaml | grep tuning

- puma:

# cat ./etc/foreman-installer/scenarios.d/satellite-answers.yaml | grep puma

- dynflow:

# cat ./etc/foreman-installer/scenarios.d/satellite-answers.yaml | grep dynflow_worker

- httpd:

# cat ./etc/httpd/conf.modules.d/prefork.conf

- puppetserver:

# grep JAVA_ARGS ./etc/sysconfig/puppetserver

- postgresql:

# egrep 'max_connections|shared_buffers|work_mem|autovacuum_vacuum_cost_limit' ./var/lib/pgsql/data/postgresql.conf


// qrouterd limits
cat ./etc/systemd/system/qdrouterd.service.d/90-limits.conf | /usr/bin/rg  -N  -F 'LimitNOFILE'
---
LimitNOFILE=150100
---

// qpidd limits
cat ./etc/systemd/system/qpidd.service.d/90-limits.conf | /usr/bin/rg  -N  -F 'LimitNOFILE'
---
LimitNOFILE=65536
---

// smart proxy dynflow core limits
cat ./etc/systemd/system/smart_proxy_dynflow_core.service.d/90-limits.conf | /usr/bin/rg  -N  -F 'LimitNOFILE'
---
LimitNOFILE=1000000
---





TRAFFIC:

- https requests to Satellite from content hosts:

# cat var/log/httpd/foreman-ssl_access_ssl.log | awk ' { print $1 } '| sort | uniq -c | sort -nr -k 1 | head -n 30

- same for URIs?

CRON - overview of all


VM OR PHYSICAL:

// baremetal or vm?
cat ./dmidecode | /usr/bin/rg  -N  '(Vendor|Manufacture)' | head -n3
---
        Vendor: Phoenix Technologies LTD
        Manufacturer: VMware, Inc.
        Manufacturer: Intel Corporation
---


YUM HISTORY:



PAUSED FORMAN TASKS:

// paused foreman tasks
/usr/bin/rg  -N  '(^                  id|paused)' ./sos_commands/foreman/foreman_tasks_tasks | sed 's/  //g' | sed -e 's/ |/|/g' | sed -e 's/| /|/g' | sed -e 's/^ //g' | sed -e 's/|/,/g'
---

running tasks too


FOREMAN SETTINGS TABLE:




MEMORY UTILIZATION

- top memory using processes:
head -1 ./ps && sort -nrk6 ./ps | head -n5

- Top CPU-using processes:

- Top users of CPU & MEM:

- /proc/meminfo better


MEMORY
  Stats graphed as percent of MemTotal:
    MemUsed    ▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊.  97.6%
    Buffers    ..................................................   0.1%
    Cached     ▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊▊..........................  48.9%
    HugePages  ..................................................   0.0%
    Dirty      ▊.................................................   2.5%
  RAM:
    29.4 GiB total ram
    28.7 GiB (98%) used
    14.3 GiB (49%) used excluding Buffers/Cached
    0.73 GiB (2%) dirty




LOAD AVERAGE



EXTERNAL DB:
